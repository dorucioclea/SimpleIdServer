<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Preparation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Preparation ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="preparation">Preparation</h1>

<p>Install SimpleIdServer templates.</p>
<pre><code>dotnet new --install SimpleIdServer.Templates
</code></pre>
<p>This will add the following templates</p>
<table>
<thead>
<tr>
<th>Command line</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>dotnet new idserver</td>
<td>Create Identity Server. By default, Entity Framework is configured to use SQLServer</td>
</tr>
<tr>
<td>dotnet new idserverwebsite</td>
<td>Create Identity Server website. By default, Entity Framework is configured to use SQLServer</td>
</tr>
<tr>
<td>dotnet new scimef</td>
<td>Create SCIM Server with EF support. By default, Entity Framework is configured to use SQLServer</td>
</tr>
<tr>
<td>dotnet new scimongodb</td>
<td>Create SCIM Server with MongoDB support</td>
</tr>
</tbody>
</table>
<h2 id="create-visual-studio-solution">Create Visual Studio Solution</h2>
<p>Open a command prompt, run the following commands to create the directory structure for the solution.</p>
<pre><code>mkdir Quickstart
cd Quickstart
mkdir src
dotnet new sln -n Quickstart
</code></pre>
<h2 id="create-identityserver-project">Create IdentityServer project</h2>
<p>Create a web project named <code>IdServer</code> with the <code>SimpleIdServer.IdServer</code> package installed and Entity Framework (EF) configured to use SQLServer.</p>
<pre><code>cd src
dotnet new idserver -n IdServer --connectionString &quot;Data Source=.;Initial Catalog=IdServer;Integrated Security=True;TrustServerCertificate=True&quot;
</code></pre>
<p>The following files will be created within a new <code>src/IdServer</code> directory :</p>
<ul>
<li><code>IdServer.csproj</code> : Project file with the SimpleIdServer.IdServer nuget package added.</li>
<li><code>appsettings.json</code> : Contains the ConnectionString.</li>
<li><code>Program.cs</code> : Main application entry point.</li>
<li><code>IdServerConfiguration.cs</code> : Contains the <code>Clients</code>, <code>Resources</code>.</li>
</ul>
<p>Next, add the <code>IdServer</code> project into the Visual Studio Solution</p>
<pre><code>cd ..
dotnet sln add ./src/IdServer/IdServer.csproj
</code></pre>
<p>Run the <code>IdServer</code> project, it must listens on the url <code>https://localhost:5001</code>.</p>
<pre><code>cd src/IdServer
dotnet run --urls=https://localhost:5001
</code></pre>
<p>The IdentityServer is now ready to be used.</p>
<p>By default, there is one administrator account configured. It is possible to access to his profile by navigating to the url <code>https://localhost:5001/master</code> and authenticate with the following credentials :</p>
<ul>
<li>Login : administrator</li>
<li>Password : password</li>
</ul>
<h2 id="identityserver-ui-preview">IdentityServer UI preview</h2>
<p>The IdentityServer UI uses Bootstrap 5.</p>
<p><img src="images/IdentityServer-1.png" alt="IdentityServer"></p>
<h2 id="create-identityserver-website-project">Create IdentityServer website project</h2>
<p>Create a web project named <code>IdServerWebsite</code> with the <code>SimpleIdServer.IdServer.Website</code> package installed and Entity Framework (EF) configured to use SQLServer.</p>
<pre><code>cd src
dotnet new idserverwebsite -n IdServerWebsite --connectionString &quot;Data Source=.;Initial Catalog=IdServer;Integrated Security=True;TrustServerCertificate=True&quot;
</code></pre>
<p>Run the <code>IdServerWebsite</code> project, it must listens on the url <code>http://localhost:5002</code>.</p>
<pre><code>cd src/IdServerWebsite
dotnet run --urls=http://localhost:5002
</code></pre>
<p>The IdentityServer website is now ready to be used.</p>
<p>Using the website, you can perform configurations of users and clients.</p>
<h2 id="identity-server-website-ui-preview">Identity Server website UI preview</h2>
<p>The IdentityServer website UI uses Radzen.</p>
<p><img src="images/IdentityServerWebsite-2.png" alt="IdentityServerWebsite"></p>
<h2 id="scim-security">SCIM Security</h2>
<p>By default SCIM is configured to use API KEY authentication.
Any clients who want to execute one operation must pass one of those keys into <code>HTTP HEADER Authorization Bearer</code>.</p>
<table>
<thead>
<tr>
<th>Owner</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>IdServer</td>
<td>ba521b3b-02f7-4a37-b03c-58f713bf88e7</td>
</tr>
<tr>
<td>AzureAd</td>
<td>1595a72a-2804-495d-8a8a-2c861e7a736a</td>
</tr>
</tbody>
</table>
<h2 id="create-scim-project-with-ef-support">Create SCIM project with EF support</h2>
<p>Create a web project named <code>ScimEF</code> with the <code>SimpleIdServer.Scim.Persistence.EF</code> package installed and Entity Framework (EF) configured to use SQLServer.</p>
<pre><code>cd src
dotnet new scimef -n ScimEF --connectionString &quot;Data Source=.;Initial Catalog=SCIM;Integrated Security=True;TrustServerCertificate=True&quot;
</code></pre>
<p>Next, add the <code>ScimEF</code> project into the Visual Studio Solution</p>
<pre><code>cd ..
dotnet sln add ./src/ScimEF/ScimEF.csproj
</code></pre>
<p>Run the <code>SCIMEF</code> project, it must listens on the url <code>http://localhost:5003</code>.</p>
<pre><code>cd src/SCIMEF
dotnet run --urls=http://localhost:5003
</code></pre>
<p>Now the SCIM server is running, you can check its Schemas endpoint on <a href="http://localhost:5003/Schemas">http://localhost:5003/Schemas</a>.</p>
<h2 id="create-scim-project-with-mongodb-support">Create SCIM project with MongoDB support</h2>
<p>Create a web project named <code>ScimMongoDB</code> with the <code>SimpleIdServer.Scim.Persistence.MongoDB</code> package installed and with MongoDB support.</p>
<pre><code>cd src
dotnet new scimongodb -n ScimMongoDB --connectionString &quot;mongodb://localhost:27017&quot;
</code></pre>
<p>Next, add the <code>ScimMongoDB</code> project into the Visual Studio Solution</p>
<pre><code>cd ..
dotnet sln add ./src/ScimMongoDB/ScimMongoDB.csproj
</code></pre>
<p>Run the <code>ScimMongoDB</code> project, it must listens on the url <code>http://localhost:5003</code>.</p>
<pre><code>cd src/ScimMongoDB
dotnet run --urls=http://localhost:5003
</code></pre>
<p>Now the SCIM server is running, you can check its Schemas endpoint on <a href="http://localhost:5003/Schemas">http://localhost:5003/Schemas</a>.</p>
<h1 id="running-with-docker">Running with docker</h1>
<p>To execute all the projects in Docker, execute the following commands :</p>
<pre><code>psake dockerBuild
psake dockerUp
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/simpleidserver/SimpleIdServer/blob/release/v3.0.3/docs/documentation/gettingstarted/index.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
